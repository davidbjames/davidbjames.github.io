{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"attribute","text":"@discardableResult"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mask"},{"kind":"text","text":"("},{"kind":"externalParam","text":"outset"},{"kind":"text","text":" "},{"kind":"internalParam","text":"inset"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/InsetGroup","preciseIdentifier":"s:2C310InsetGroupV","text":"InsetGroup"},{"kind":"text","text":"? = nil, "},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"closure"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Build","preciseIdentifier":"s:2C35Builda","text":"Build"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"B","preciseIdentifier":"s:2C37MutatorVA2A11DecoratableR_rlE1Bxmfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/LayerMask","preciseIdentifier":"c:@M@C3@objc(cs)LayerMask","text":"LayerMask"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator","preciseIdentifier":"s:2C37MutatorV","text":"Mutator"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"type":"paragraph","inlineContent":[{"type":"text","text":"By default the mask layer size is the same as the item’s"},{"type":"text","text":" "},{"type":"text","text":"however this can be adjusted +\/- by passing an “outset”"},{"type":"text","text":" "},{"type":"text","text":"with positive values growing the mask and negative values"},{"type":"text","text":" "},{"type":"text","text":"shrinking the mask. (NOTE: when reusing\/animating a mask"},{"type":"text","text":" "},{"type":"text","text":"it’s not necessary to re-add the “outset” value every time.)"},{"type":"text","text":" "},{"type":"text","text":"Sub-masks added to the mask layer (via closure) must be"},{"type":"text","text":" "},{"type":"text","text":"layer derivitives (e.g. Layer, Shape, etc)."},{"type":"text","text":" "},{"type":"text","text":"The closure functions the same as build\/make methods.(including"},{"type":"text","text":" "},{"type":"text","text":"optionally passing down query reference to position the mask"},{"type":"text","text":" "},{"type":"text","text":"items relative to)."},{"type":"text","text":" "},{"type":"text","text":"Fully opaque mask pixels (alpha 1.0) allow items to show"},{"type":"text","text":" "},{"type":"text","text":"through the mask, whereas fully transparent mask pixels"},{"type":"text","text":" "},{"type":"text","text":"(alpha 0.0) prevent those parts of the items from showing"},{"type":"text","text":" "},{"type":"text","text":"through. To make things more intuitive, when specifying"},{"type":"text","text":" "},{"type":"text","text":"sub-mask color\/gradients\/etc, use the “MaskReveal” helper which"},{"type":"text","text":" "},{"type":"text","text":"inverts the colors behind the scenes, via MaskReveal.show,"},{"type":"text","text":" "},{"type":"text","text":"MaskReveal.hide, MaskReveal.show(degree:), etc."},{"type":"text","text":" "},{"type":"text","text":"In cases where revealing or knocking out shapes will be"},{"type":"text","text":" "},{"type":"text","text":"done at 100% opacity (i.e. not “soft” masks), as a convenience"},{"type":"text","text":" "},{"type":"text","text":"use the methods reveal() or knockout(), respectively, which"},{"type":"text","text":" "},{"type":"text","text":"apply the mask color for you."},{"type":"text","text":" "},{"type":"text","text":"To support mask animation, the default behavior is to"},{"type":"text","text":" "},{"type":"text","text":"reuse the mask and any first-level sub-masks."},{"type":"text","text":" "},{"type":"text","text":"For example, if adding a Circle submask, subsequent calls"},{"type":"text","text":" "},{"type":"text","text":"that also add a Circle submask will reuse the existing Circle."},{"type":"text","text":" "},{"type":"text","text":"To replace the submasks remove the mask first"},{"type":"text","text":" "},{"type":"text","text":"(see Mutator.removeMask())."},{"type":"text","text":" "},{"type":"text","text":"CAVEAT: as a result of this reuse behavior, if using multiple"},{"type":"text","text":" "},{"type":"text","text":"sub masks of the same type (e.g. Circles) you will need to"},{"type":"text","text":" "},{"type":"text","text":"ensure they are uniquely identified (e.g. by using ordinals)"},{"type":"text","text":" "},{"type":"text","text":"so they do not replace each other."}]},{"type":"codeListing","syntax":null,"code":["\/\/ Use unique ordinals (can also use ids\/tags)","Circle(ordinal:0).in($0)","    ...","Circle(ordinal:1).in($0)","    ...","\/\/ Alternatively, use repeat","Circle().in($0, repeat:2) \/\/ ordinals auto-added","    ..."]},{"type":"paragraph","inlineContent":[{"type":"text","text":"When making "},{"type":"emphasis","inlineContent":[{"type":"text","text":"dynamic"}]},{"type":"text","text":" or animated changes to mask sub items"},{"type":"text","text":" "},{"type":"text","text":"it may be necessary to call "},{"type":"codeVoice","code":"syncPath()"},{"type":"text","text":" on those items"},{"type":"text","text":" "},{"type":"text","text":"to ensure you can properly position them."}]},{"type":"codeListing","syntax":null,"code":[".mask(outset:30.0) {","    \/\/ Dynamically change paralellogram's slant","    Paragram(slantBy:toggle ? 0.7 : 0.0)","        .in($0)","        \/\/ Sync path and frame size","        .syncPath()","        \/\/ Center predictably","        .center()","}"]}]}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/c3\/mutator\/mask(outset:_:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator\/mask(outset:_:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Mask the queried item(s) with an alpha mask composed of"},{"type":"text","text":" "},{"type":"text","text":"any combination of sub-mask items added to the mask layer."}],"kind":"symbol","metadata":{"conformance":{"constraints":[{"type":"codeVoice","code":"B"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":", "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Decoratable"},{"type":"text","text":", "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"MutatorExportable"},{"type":"text","text":", and "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"role":"symbol","title":"mask(outset:_:)","roleHeading":"Instance Method","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mask"},{"kind":"text","text":"("},{"kind":"externalParam","text":"outset"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"InsetGroup","preciseIdentifier":"s:2C310InsetGroupV"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Build","preciseIdentifier":"s:2C35Builda"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"B","preciseIdentifier":"s:2C37MutatorVA2A11DecoratableR_rlE1Bxmfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"LayerMask","preciseIdentifier":"c:@M@C3@objc(cs)LayerMask"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","text":"Mutator","preciseIdentifier":"s:2C37MutatorV"}],"symbolKind":"method","externalID":"s:2C37MutatorVA2A11DecoratableR_rlE4mask6outset_ACyxq_GAA10InsetGroupVSg_yAA7BuilderCyxAA9LayerMaskCGXEtF","extendedModule":"C3","modules":[{"name":"C3"}]},"hierarchy":{"paths":[["doc:\/\/com.davidbjames.C3\/documentation\/C3","doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator","doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator\/AbstractBackgroundDecoratable-Implementations"]]},"references":{"doc://com.davidbjames.C3/documentation/C3/InsetGroup":{"role":"symbol","title":"InsetGroup","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"InsetGroup"}],"abstract":[{"type":"text","text":"Inset group of top, bottom, leading and trailing."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/InsetGroup","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"InsetGroup"}],"url":"\/documentation\/c3\/insetgroup"},"doc://com.davidbjames.C3/documentation/C3/LayerMask":{"role":"symbol","title":"LayerMask","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"LayerMask"}],"abstract":[{"type":"text","text":"Standard layer mask container."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/LayerMask","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"LayerMask"}],"url":"\/documentation\/c3\/layermask"},"doc://com.davidbjames.C3/documentation/C3/Mutator/AbstractBackgroundDecoratable-Implementations":{"role":"collectionGroup","title":"AbstractBackgroundDecoratable Implementations","abstract":[],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator\/AbstractBackgroundDecoratable-Implementations","kind":"article","type":"topic","url":"\/documentation\/c3\/mutator\/abstractbackgrounddecoratable-implementations"},"doc://com.davidbjames.C3/documentation/C3/Build":{"role":"symbol","title":"Build","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Build"}],"abstract":[{"type":"text","text":"Closure that takes a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Builder"},{"type":"text","text":" as used in "},{"type":"codeVoice","code":"build()"},{"type":"text","text":" or "},{"type":"codeVoice","code":"make()"},{"type":"text","text":" methods"},{"type":"text","text":" "},{"type":"text","text":"as trailing closure or in anonymous closures to be passed to build\/make later."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Build","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Build"}],"url":"\/documentation\/c3\/build"},"doc://com.davidbjames.C3/documentation/C3/Mutator/mask(outset:_:)":{"conformance":{"constraints":[{"type":"codeVoice","code":"B"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":", "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Decoratable"},{"type":"text","text":", "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"MutatorExportable"},{"type":"text","text":", and "},{"type":"codeVoice","code":"T"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":"."}],"availabilityPrefix":[{"type":"text","text":"Available when"}],"conformancePrefix":[{"type":"text","text":"Conforms when"}]},"role":"symbol","title":"mask(outset:_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mask"},{"kind":"text","text":"("},{"kind":"externalParam","text":"outset"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"InsetGroup","preciseIdentifier":"s:2C310InsetGroupV"},{"kind":"text","text":"?, "},{"kind":"typeIdentifier","text":"Build","preciseIdentifier":"s:2C35Builda"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"B","preciseIdentifier":"s:2C37MutatorVA2A11DecoratableR_rlE1Bxmfp"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"LayerMask","preciseIdentifier":"c:@M@C3@objc(cs)LayerMask"},{"kind":"text","text":">) -> "},{"kind":"typeIdentifier","text":"Mutator","preciseIdentifier":"s:2C37MutatorV"}],"abstract":[{"type":"text","text":"Mask the queried item(s) with an alpha mask composed of"},{"type":"text","text":" "},{"type":"text","text":"any combination of sub-mask items added to the mask layer."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator\/mask(outset:_:)","kind":"symbol","type":"topic","url":"\/documentation\/c3\/mutator\/mask(outset:_:)"},"doc://com.davidbjames.C3/documentation/C3/Builder":{"role":"symbol","title":"Builder","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Builder"}],"abstract":[{"type":"text","text":"Ephemeral wrapper that holds the parent items to which"},{"type":"text","text":" "},{"type":"text","text":"child items may be attached, plus additional state\/"},{"type":"text","text":" "},{"type":"text","text":"options necessary for configuring item attachment."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Builder","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Builder"}],"url":"\/documentation\/c3\/builder"},"doc://com.davidbjames.C3/documentation/C3":{"role":"collection","title":"C3","abstract":[{"type":"strong","inlineContent":[{"type":"text","text":"C3UI"}]},{"type":"text","text":" is a Swift framework for developing apps on iOS and iPadOS."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3","kind":"symbol","type":"topic","url":"\/documentation\/c3"},"doc://com.davidbjames.C3/documentation/C3/Mutator":{"role":"symbol","title":"Mutator","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Mutator"}],"abstract":[{"type":"text","text":"This wraps the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Query"},{"type":"text","text":" object that holds the items to"},{"type":"text","text":" "},{"type":"text","text":"be mutated and also conforms to the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/QueryInterface"},{"type":"text","text":" "},{"type":"text","text":"suite of protocols for common functionality."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Mutator"}],"url":"\/documentation\/c3\/mutator"},"doc://com.davidbjames.C3/documentation/C3/QueryInterface":{"role":"symbol","title":"QueryInterface","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"QueryInterface"}],"abstract":[{"type":"text","text":"QueryInterface provides the common interface to"},{"type":"text","text":" "},{"type":"text","text":"queried items via "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Query"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Mutator"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Autolayout"},{"type":"text","text":" wrappers."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/QueryInterface","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"QueryInterface"}],"url":"\/documentation\/c3\/queryinterface"},"doc://com.davidbjames.C3/documentation/C3/Query":{"role":"symbol","title":"Query","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Query"}],"abstract":[{"type":"text","text":"Core "},{"type":"codeVoice","code":"Query"},{"type":"text","text":" wrapper to one or more items of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Queryable"},{"type":"text","text":" type."}],"identifier":"doc:\/\/com.davidbjames.C3\/documentation\/C3\/Query","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Query"}],"url":"\/documentation\/c3\/query"}}}